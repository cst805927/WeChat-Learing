# 第 3 章 小程序框架

- 本章内容主要包括两个使用 flex 布局模型创建的小程序项目实例
  - 一是仿微信 ”发现“页面创建列表布局小程序
  - 二是仿微信”钱包“页面创建九宫格布局小程序

## 本章学习目标

- 学习使用 flex 布局模型和 wx：for 属性创建列表布局小程序
- 学习使用 flex 布局模型和 wx：for 属性创建九宫格布局小程序

## 3.1 列表布局小程序

- 微信 App 的”发现“页面是由若干个垂直排列的列表组成的

  每个列表项均包含图标、文字和箭头符号

- 本项目将使用 flex 布局模型和 wx：for 属性仿微信”发现“页面列表布局效果

### 3.1.1 项目创建

- 本项目创建选择空白文件夹 wxDiscover

- 单击”新建“按钮完成项目创建

  然后准备手动创建页面配置文件

### 3.1.2 页面配置

#### 1. 创建页面文件

- 项目创建完毕后，

  在根目录中会生成文件夹 pages 用于存放页面文件

  - 一般来说首页默认命名为 index

    表示小程序运行的第一个页面

  - 其它页面名称可以自定义
  - 本项目只需保留首页（index）即可

- 具体操作如下：

  1. 将 app.json 文件内 pages 属性中的 ”pages/logs/logs“ 删除，并删除上一行末尾的逗号
  2. Ctrl + S 保存修改

#### 2. 删除和修改文件

- 具体操作如下：
  1. 删除 utils 文件夹
  2. 删除 pages 文件夹下的 logs 目录
  3. 删除 index.wxml 和 index.wxss 中的全部代码
  4. 删除 index.js 中的全部代码，并且输入关键词 page 补全函数
  5. 删除 app.wxss 中的全部代码
  6. 删除 app.js 中的全部代码，并且输入关键词 app 补全函数

#### 3. 创建其它文件

- 本项目还需要一个文件夹用于存放图片素材

  文件夹名称由开发者自定义（例如 images）

  - 创建文件夹并命名为 images

- 本项目将用到 8 个列表项图标和 1 个通用箭头图标

  - 将上述图片复制到 images 文件夹

### 3.1.3 视图设计

#### 1. 导航栏设计

- 小程序默认导航栏是黑底白字的效果

  因此只需要在 index.json 中自定义导航栏标题即可

  更改后的 index.json 文件代码如下：

```
{
  "navigationBarTitleText": "发现"
}
```

#### 2. 页面设计

- 页面上主要包含 5 组列表，

  每组列表包含 1 ~ 2 个列表项

  具体内容解释如下：

  - 列表组 1 ：”朋友圈“ 单行列表项
  - 列表组 2 ：”扫一扫“ 和 ”摇一摇“ 两行列表项
  - 列表组 3 ：”看一看“ 和 ”搜一搜“ 两行列表项
  - 列表组 4 ：”购物“ 和 ”游戏“ 两行列表项
  - 列表组 5 ：”小程序“ 单行列表项

- 每个列表组之间需要有一定的间隔距离

- 计划使用如下组件

  - 页面整体 ：<view> 组件，并定义 class = "container"
  - 列表组 ：<view> 组件，并定义 class = "listGroup"
  - 列表项单行 ：<view> 组件，并定义 class = "listItem"

  - 列表图标 ：<image>（图像）组件
  - 列表文字内容 ：<text>（文本）组件
  - 箭头图标 ：<image>（图像）组件

- 首先定义页面容器（<view>），

  WXML（pages/index/index.wxml）代码片段如下：

```
<view class="container">
</view>
```

- WXSS（pages/index/index.wxss）代码片段如下：

```
/* 背景容器样式 */
.container {
  height: 100vh; /*高度为 100 视窗，写成 100% 无效*/
  background-color:silver; /*背景颜色为银色*/
  display: flex; /*flex布局模型*/
  flex-direction: column; /*垂直布局*/
}
```

- 此时整个页面变成了银色

  由于还没添加组件元素

  所以尚看不出来 flex 布局模型效果

- 接下来以第一个列表选项为例

  WXML（pages/index/index.wxml）代码片段如下

```
<view class="container">
  <view class="listGroup">
    <view class="listItem">
      <image src="/images/moments.png"></image>
      <text>朋友圈</text>
      <image src="/images/arrow.png"></image>
    </view>
  </view>
</view>
```

- WXSS（pages/index/index.wxss）代码片段如下：

```

```

